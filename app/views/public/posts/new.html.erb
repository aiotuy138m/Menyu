<div class="container">
  <div class="row">
    <div class="col-md-3">
      <h5>投稿画面</h5>
      <%= form_with model: @post do |f| %>
      <table class="table tablebordered">
        <tr>
          <th>投稿画像</th>
          <td><%= f.file_field :image, accept: "image/*" %></td>
        </tr>
        <tr>
          <th>評価</th>
          <td>
            <% begin %>
            <div id="rate">
              <%= f.hidden_field :rate, id: :rate %>
　　　　    </div>
            <script>
              new Raty(document.querySelector('#rate'), {
                size     : 36,
                starOff:  '<%= asset_path('star-off.png') %>',
                starOn : '<%= asset_path('star-on.png') %>',
                starHalf: '<%= asset_path('star-half.png') %>',
                scoreName: 'post[rate]',
                half: false
              });
            </script>
            <% end %>

            <input type="range" class="form-contro-l-range" id="review01" type="radio" name="post[rate]" value="3" min="0" max="5" step="0.5"><label for="review01"></label>
          </td>
        </tr>
        <tr>
          <th>店名</th>
          <td>
            <%= f.select :shop_info_id, options_from_collection_for_select(ShopInfo.all, :id, :name), { include_blank: "--選択してください--" }, class:"custom-select col-12" %>
          </td>
        </tr>
        <% @genres.each do |genre| %>
        <tr>
          <th>ジャンル</th>
          <td>
            <%= f.check_box :genre_id,
                            { muktiple: true,
                              checked: @post.genre_id.present? ? @post.genre_id.split(",").include?(genre) : false },
                              genre, nil %>
            <span><%= genre %></span>
          </td>
        </tr>
        <% end %>
        <tr>
          <th>コメント・メモ</th>
          <td><%= f.text_area :comment %></td>
        </tr>
        <tr>
          <th><%= f.label "公開設定" %></th>
          <td>
              <%= f.radio_button :is_active, true, style: "accent-color:black;",checked: true %>
              <%= f.label :is_active, "公開", value: true %>
              <%= f.radio_button :is_active, false, class:"ml-5", style: "accent-color:black;" %>
              <%= f.label :is_active, "非公開", value: false %>
          </td>
          </tr>
        <tr>
          <th></th>
          <td><%= f.submit '投稿', class:"btn btn-lg btn-block btn-info mt-4" %></td>
        </tr>
      </table>
      <% end %>
    </div>
  </div>
</div>
